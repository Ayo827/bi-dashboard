(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{19825:()=>{},25731:(e,r,s)=>{"use strict";s.d(r,{A:()=>m,AuthProvider:()=>c});var t=s(95155),l=s(12115),a=s(35695),i=s(57383),n=s(57599),o=s(24752),u=s.n(o);let d=(0,l.createContext)(null),c=e=>{let{children:r}=e,[s,o]=(0,l.useState)(null),c=(0,a.useRouter)();(0,l.useEffect)(()=>{let e=i.A.get("user");e&&o(JSON.parse(e))},[]);let m=async(e,r,s,t)=>{let l=await n.Ay.hash(s,10),a=i.A.get("users"),d=a?JSON.parse(a):[];if(d.some(e=>e.email===r)){u().fire({icon:"error",title:"Oops...",text:"Email already registered. Please log in."});return}d.push({fullName:e,email:r,password:l}),i.A.set("users",JSON.stringify(d),{expires:t?7:void 0}),o({fullName:e,email:r}),c.push("/dashboard")},f=async(e,r,s)=>{let t=i.A.get("users");if(!t){u().fire({icon:"error",title:"Oops...",text:"No users found. Please register."});return}let l=JSON.parse(t).find(r=>r.email===e);if(!l){u().fire({icon:"error",title:"Oops...",text:"User not found. Please check your register."});return}if(!await n.Ay.compare(r,l.password)){u().fire({icon:"error",title:"Oops...",text:"Invalid credentials"});return}i.A.set("user",JSON.stringify({fullName:l.fullName,email:l.email}),{expires:s?7:void 0}),o({fullName:l.fullName,email:l.email}),c.push("/dashboard")};return(0,t.jsx)(d.Provider,{value:{user:s,signup:m,login:f,logout:()=>{o(null),i.A.remove("user"),i.A.remove("authToken"),c.push("/")}},children:r})},m=()=>{let e=(0,l.useContext)(d);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},41057:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>v});var t=s(95155),l=s(12115),a=s(62177),i=s(62461),n=s(37129),o=s(35258),u=s(76898),d=s(41892),c=s(77709),m=s(25731),f=s(72997),h=s(51362),x=s(6874),p=s.n(x);let b=n.Ik().shape({email:n.Yj().email("Invalid email format").required("Email is required"),password:n.Yj().required("Password is required"),rememberMe:n.zM()});function v(){var e,r;let{theme:s}=(0,h.D)(),{login:n}=(0,m.A)(),[x,v]=(0,l.useState)(!1),{register:g,handleSubmit:N,formState:{errors:j}}=(0,a.mN)({resolver:(0,i.t)(b)});return(0,t.jsx)("div",{className:"flex justify-center items-center min-h-screen ".concat("dark"===s?"bg-gray-900 text-blue":"bg-gray-100 text-black"),children:(0,t.jsxs)("div",{className:"bg-white  p-6 shadow-md rounded-md w-96",children:[(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(f.A,{})}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Login"}),(0,t.jsxs)("form",{onSubmit:N(e=>{v(!0);let{email:r,password:s,rememberMe:t=!1}=e;n(r,s,t),v(!1)}),className:"space-y-4 mt-4 flex flex-col justify-between h-70",children:[(0,t.jsx)(o.A,{label:"Email",fullWidth:!0,...g("email"),error:!!j.email,helperText:null===(e=j.email)||void 0===e?void 0:e.message}),(0,t.jsx)(o.A,{label:"Password",type:"password",fullWidth:!0,...g("password"),error:!!j.password,helperText:null===(r=j.password)||void 0===r?void 0:r.message}),(0,t.jsx)(u.A,{control:(0,t.jsx)(d.A,{...g("rememberMe")}),label:"Remember Me"}),(0,t.jsx)(c.A,{type:"submit",variant:"contained",fullWidth:!0,disabled:x,children:"Login"}),(0,t.jsxs)("div",{className:"text-center",children:["No account? ",(0,t.jsx)(p(),{href:"/register",className:"text-blue-500 hover:underline",children:"Register"})]})]})]})})}},59569:(e,r,s)=>{Promise.resolve().then(s.bind(s,41057))},72997:(e,r,s)=>{"use strict";s.d(r,{A:()=>n});var t=s(95155),l=s(51362),a=s(12115),i=s(29911);function n(){let{theme:e,setTheme:r}=(0,l.D)(),[s,n]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{n(!0)},[]),s)?(0,t.jsx)("button",{onClick:()=>r("dark"===e?"light":"dark"),className:"p-2 rounded-full bg-gray-200 dark:bg-gray-800 transition cursor-pointer",children:"dark"===e?(0,t.jsx)(i.wQq,{className:"text-yellow-500"}):(0,t.jsx)(i.V6H,{className:"text-blue-500"})}):null}}},e=>{var r=r=>e(e.s=r);e.O(0,[320,711,780,5,581,441,684,358],()=>r(59569)),_N_E=e.O()}]);